@using Bnan.Core.Extensions;
@using Bnan.Ui.ViewModels.BS;
@model BSLayoutVM
@inject IViewLocalizer localizer
@{
    ViewData["Title"] = "CreateContract";
    var requestCulture = Context.Features.Get<IRequestCultureFeature>();
    ViewData["returnUrl"] = string.IsNullOrEmpty(Context.Request.Path) ? "~/" : $"~{Context.Request.Path.Value}";
}
<link href="~/BranchSys/CreateContract/sb-admin-2.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<link href="~/BranchSys/CreateContract/contract.css" rel="styleSheet">

@if (requestCulture?.RequestCulture.UICulture.Name == "en-US")
{
    <link href="~/BranchSys/CreateContract/english-style.css" rel="styleSheet">
}

<section class="section-mainCard" style="font-weight: 600;">
    <div class="row justify-content-center w-100 h-100">
        <div class="col-11 col-sm-10 col-md-11 col-lg-11 col-xl-10 text-center p-0 ">
            <div class="card main-card ">
                <div class="row pt-2">
                    <a asp-action="Index" asp-area="BS" asp-controller="Home" style="width: fit-content;">
                        <img src="~/BranchSys/CreateContract/img/cancel.png" alt="cancle_icon" class="cancle-icon">
                    </a>
                </div>
                <div class="row" style="flex-direction: row-reverse;">
                    <div class="col justify-content-center d-flex title-row">
                        <span class="card-title">
                            @localizer["CreateContract"]
                        </span>
                    </div>
                </div>
                <div class="row justify-content-center h-100 content-row">
                    <div class="col-md-11 mx-0">
                        <form id="msform" novalidate class="needs-validation">
                            <div class=" pe-4">
                                <!-- progressbar -->
                                <ul id="progressbar">
                                    <li class="active" id="tenant">@localizer["Renterr"]</li>
                                    <li id="car">@localizer["Car"]</li>
                                    <li id="driver">@localizer["Driver"]</li>
                                    <li id="add-driver">@localizer["AdditionalDriver"]</li>
                                    <li id="options">@localizer["AdditionalAndChoices"]</li>
                                    <li id="check">@localizer["CheckUp"]</li>
                                    <li id="payment">@localizer["Payment"]</li>

                                </ul>
                            </div>
                            <fieldset>
                                <div class="form-card form-card1 h-100">

                                    <div class="row row-step1 ">
                                        <div class="col-auto">
                                            <label for="national-number-step1"
                                                   class="col-form-label">
                                                @localizer["RenterId"]
                                            </label>
                                        </div>
                                        <div class="col-sm-3 col-md-3 col-lg-3">
                                            <input type="text" class="form-control" style="margin-left: -4px;" asp-for="Contract.RenterId" oninput="this.value=this.value.replace(/[^0-9]/g,'')" maxlength="10">
                                            <div class="row requird-field-row">
                                                <span class="requird-field" id="requird-field_RenterID" asp-validation-for="@Model.Contract.RenterId"></span>
                                            </div>
                                        </div>
                                        <div class="col-auto seacrh-icon-col">
                                            <img src="~/BranchSys/CreateContract/img/seacrh-icon.png" alt="seacrh-icon Image"
                                                 id="hover-image">
                                            <div class="dropdown-content" id="dropdown-content">
                                                <div class="row dropdown-content-row pt-2">
                                                    <div class="col-7 pe-4">
                                                        <p>@localizer["LastVisit"]</p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>3/10/2020</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p>@localizer["LastContract"]</p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>30/6/2023</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p>@localizer["ContractCountt"]</p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>5</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p> @localizer["RentalDays"] </p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>100</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p> @localizer["KilometersCut"] </p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>7.200</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p>@localizer["AmountsTraded"]</p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>92.500</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p> @localizer["Balance"] </p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>-1.250</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p> @localizer["Evaluation"] </p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>4.12</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p> @localizer["DealingMechanism"]</p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>جيد</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p>@localizer["Membership"]</p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>ماسية</p>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row row-step1 align-items-center">
                                        <div class="col-auto" style="padding-bottom: 30px;">
                                            <label for="birth-date-step1"
                                                   class=" col-form-label">
                                                @localizer["Birthdate"]
                                            </label>

                                        </div>
                                        <div class="col-sm-3 col-md-3 col-lg-3">
                                            <input type="date" class="form-control"
                                                   id="birth-date-step1" name="birth-date-step1" readonly>
                                            <div class="row requird-field-row">
                                                <p class="requird-field" id="requird_field_Birthdate"></p>
                                            </div>
                                        </div>

                                        <div class="col-auto" style="margin-bottom: 32px;">
                                            <button type="button" class="check-btn" data-bs-toggle="modal" id="RenterCheckBtn">
                                                @localizer["Verification"]
                                            </button>
                                        </div>

                                        <div class="col-sm-auto col-md-auto col-lg-auto radio-style" id="radioDriverRenter">
                                            <div class="form-check" id="RenterIsdriverDiv">
                                                <label class="form-check-label" for="RenterIsdriver">
                                                    @localizer["TheRenterIsAdriver"]
                                                </label>
                                                <input class="form-check-input" type="checkbox" name="RenterIsdriver" id="RenterIsdriver">
                                            </div>
                                            <div class="form-check form-check2" id="PrivateDriverDiv">
                                                <label class="form-check-label" for="PrivateDriver">
                                                    @localizer["PrivateDriver"]
                                                </label>
                                                <input class="form-check-input" type="checkbox" name="PrivateDriver" id="PrivateDriver">
                                            </div>
                                        </div>

                                        <div id="dropdown-container" class="col-auto" style="display:none">
                                            <div class="offset">
                                                @if (requestCulture?.RequestCulture.UICulture.Name == "en-US")
                                                {
                                                    <select class="form-select" id="driver-dropdown">
                                                        <option selected disabled>@localizer["ChooseYourDriver"]</option>
                                                        @foreach (var driver in Model.Drivers)
                                                        {
                                                            <option value="@driver.CrCasRenterPrivateDriverInformationId">@driver.CrCasRenterPrivateDriverInformationEnName</option>
                                                        }
                                                    </select>
                                                }
                                                else
                                                {
                                                    <select class="form-select text-right" id="driver-dropdown">
                                                        <option selected disabled>@localizer["ChooseYourDriver"]</option>
                                                        @foreach (var driver in Model.Drivers)
                                                        {
                                                            <option value="@driver.CrCasRenterPrivateDriverInformationId">@driver.CrCasRenterPrivateDriverInformationArName</option>
                                                        }
                                                    </select>
                                                }
                                            </div>
                                            <div class="row requird-field-row">
                                                <p class="requird-field" id="PrivateDriverRequired"></p>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="row row-step1 mb-3 ">
                                        <div class="col-auto">
                                            <p id="name"> @localizer["Name"] </p>
                                        </div>
                                        <div class="col-auto personal-data">
                                            <p id="RenterName"></p>
                                        </div>

                                    </div>
                                    <div class="row row-step1 mb-3">
                                        <div class="col-auto">
                                            <p id="email">@localizer["Email"]</p>
                                        </div>
                                        <div class="col-auto personal-data">
                                            <p id="RenterEmail"></p>
                                        </div>

                                    </div>
                                    <div class="row row-step1 mb-3">
                                        <div class="col-auto">
                                            <p id="adress">@localizer["Address"]</p>
                                        </div>
                                        <div class="col-auto personal-data">
                                            <p id="RenterAddress"></p>
                                        </div>

                                    </div>
                                    <div class="row row-step1 ">
                                        <div class="col-auto">
                                            <label for="FormControlTextarea1">@localizer["reasons"]</label>
                                        </div>
                                        <div class="col-sm-5 col-md-5 col-lg-5">
                                            <textarea class="form-control" id="FormControlTextarea1"
                                                      rows="1" maxlength="100" name="tenant-notes"
                                                      type="text"></textarea>
                                        </div>

                                    </div>
                                </div>
                                <div class="row button-row" style="text-align: left;">
                                    <div class="button-card">
                                        <img src="~/BranchSys/CreateContract/Group.png" alt="Button Image" class="next action-button" style="vertical-align: middle; ">
                                        <input type="button" name="next" class="next action-button" value="@localizer["Next"]" />
                                    </div>
                                </div>

                            </fieldset>
                            <!--Car Field-->
                            <fieldset>
                                <div class="form-card">
                                    <div class="row" style="flex-direction: row-reverse;">
                                        <!--Car Category-->
                                        <div class="col-sm-4 col-md-4 col-lg-3 car-catogeries " id="scrollContainer">
                                            <div class="d-flex " style="flex-direction:column; gap:4px">
                                                <button type="button" class="btn customized-button" onclick="GetCodeCategory(`3400000000`)">@localizer["All"]</button>
                                                @foreach (var category in Model.CarCategories)
                                                {
                                                    @if (requestCulture?.RequestCulture.UICulture.Name == "en-US")
                                                    {
                                                        <button type="button" class="btn customized-button" onclick="GetCodeCategory(`@category.CrMasSupCarCategoryCode`)">@category.CrMasSupCarCategoryEnName</button>
                                                    }
                                                    else
                                                    {
                                                        <button type="button" class="btn customized-button" onclick="GetCodeCategory(`@category.CrMasSupCarCategoryCode`)">@category.CrMasSupCarCategoryArName</button>
                                                    }
                                                }
                                            </div>
                                        </div>
                                        <!--Cars Informations-->
                                        <div class="col-sm-8 col-md-8 col-lg-9 scrollable-content p-0">
                                            <table width="100%" class="table table-hover" id="ListCars">
                                                <tbody>
                                                    <partial name="_CarsList" />
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <div class="row button-row">
                                    <div class="button-card">
                                    </div>
                                    <div class="button-card">
                                        <input type="button" name="previous"
                                               class="previous action-button-previous"
                                               value="@localizer["Previous"]" />
                                        <img src="~/BranchSys/CreateContract/Vector.png" alt="Button Image"
                                             class="previous action-button-previous"
                                             style="vertical-align: middle; ">
                                    </div>
                                </div>

                            </fieldset>
                            <fieldset>
                                <div class="form-card form-card3">
                                    <div class="row row-step3 ">
                                        <div class="col-auto">
                                            <label for="national-number-driver" class="col-form-label">@localizer["RenterId"]</label>
                                        </div>
                                        <div class="col-sm-3 col-md-3 col-lg-3">
                                            <input type="tel" class="form-control" asp-for="Contract.DriverId" style="margin-left: -4px;" oninput="this.value=this.value.replace(/[^0-9]/g,'')" maxlength="10" required>
                                            <div class="row requird-field-row">
                                                <span class="requird-field" id="requird_field_DriverID" asp-validation-for="@Model.Contract.DriverId"></span>
                                            </div>
                                        </div>
                                        <div class="col-auto seacrh-icon-col">
                                            <img src="~/BranchSys/CreateContract/img/seacrh-icon.png" alt="seacrh-icon Image"
                                                 id="hover-image-driver">
                                            <div class="dropdown-content"
                                                 id="dropdown-content-driver">
                                                <div class="row dropdown-content-row pt-2">
                                                    <div class="col-7 pe-4">
                                                        <p>اخر زيارة </p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>3/10/2020</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p>اخر عقد </p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>30/6/2023</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p> عدد العقود </p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>5</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p> عدد ايام التأجير </p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>100</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p> الكبلات المقطوعة </p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>7.200</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p> المبالغ المتداولة</p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>92.500</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p> الرصيد </p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>-1.250</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p> التقييم </p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>4.12</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p> آالية التعامل</p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>جيد</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p> العوضية</p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>ماسية</p>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row row-step3 align-items-center">
                                        <div class="col-auto" style="padding-bottom: 30px;">
                                            <label for="birth-date-driver" class="col-form-label">@localizer["Birthdate"]</label>
                                        </div>
                                        <div class="col-sm-3 col-md-3 col-lg-3">
                                            <input type="date" class="form-control" id="birth-date-driver" name="birth-date-driver" readonly>
                                            <div class="row requird-field-row">
                                                <p class="requird-field" id="requird_field_Birthdate_driver"></p>
                                            </div>
                                        </div>

                                        <div class="col-auto" style="margin-bottom: 32px;">
                                            <button type="button" class="check-btn" data-bs-toggle="modal" id="DriverCheckBtn">@localizer["Verification"] </button>
                                        </div>

                                    </div>
                                    <div class="row row-step3 align-items-center">
                                        <div class="col-md-6">
                                            <div class="row " style="justify-content: flex-end;">
                                                <div class="col-auto personal-data">
                                                    <p id="DriverName"></p>

                                                </div>
                                                <div class="col-auto">
                                                    <p> @localizer["Name"] </p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6" style="    display: flex;
                                                                justify-content: flex-end;">
                                            <div class="addational-driver d-flex gap-3" id="addationalDriverDiv">
                                                <label class="addational-driver-label"
                                                       for="addational-driver">
                                                    @localizer["AdditionalDriverr"]
                                                </label>
                                                <input class="addational-driver-input" type="checkbox" name='addtional-driver-add' value="checked" id="addational-driver">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row row-step3 ">
                                        <div class="col-md-4">
                                            <div class="row " style="justify-content: flex-start;flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="driver-nationality">@localizer["Nationality"]</p>
                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p id="DriverNationality"></p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="row " style="justify-content: flex-start;
                                                                flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="driver-type">@localizer["Gender"] </p>
                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p id="DriverGender"></p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="row " style="justify-content: flex-start;
                                                                flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="driver-jop"> @localizer["Professions"] </p>
                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p id="DriverProffessions"></p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row row-step3 "
                                         style="flex-direction: row-reverse;">
                                        <div class="col-md-4">
                                            <div class="row " style="justify-content: flex-start;
                                                                flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="driver-licence-type">@localizer["Typeoflicense"]</p>
                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p id="DriverLicenseType"></p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="row " style="justify-content: flex-start;
                                                                flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="driver-licence-date"> @localizer["Issuingit"] </p>
                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p id="DriverLicenseIssued"></p>
                                                </div>

                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="row " style="justify-content: flex-start;
                                                                flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="driver-licence-end"> @localizer["Expirationdate"] </p>
                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p id="DriverLicenseExpiration"></p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row row-step3 ">
                                        <div class="col-md-8">
                                            <div class="row " style="justify-content: flex-start;flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="additionalDriver-adress">@localizer["Address"]</p>
                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p id="DriverAddress">
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="row " style="justify-content: flex-start;
                                                                flex-direction: row-reverse;">
                                                <div class="col-auto p-0">
                                                    <p id="workplace">
                                                        @localizer["Employer"]
                                                    </p>

                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p id="DriverEmployer"></p>

                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                    <div class="row row-step3 ">
                                        <div class="col-auto">
                                            <p id="driver-email">@localizer["Email"]</p>

                                        </div>
                                        <div class="col-auto personal-data">
                                            <p id="DriverEmail"></p>
                                        </div>

                                    </div>

                                    <div class="row row-step3">
                                        <div class="col-auto">
                                            <label for="FormControlTextarea2">@localizer["reasons"]</label>
                                        </div>
                                        <div class="col-sm-5 col-md-5 col-lg-5">
                                            <textarea class="form-control" id="FormControlTextarea2" maxlength="100" rows="1" name="driver-notes"></textarea>
                                        </div>

                                    </div>
                                </div>
                                <div class="row button-row">
                                    <div class="button-card">
                                        <img src="~/BranchSys/CreateContract/Group.png" alt="Button Image"
                                             class="next action-button"
                                             style="vertical-align: middle; ">
                                        <input type="button" name="next" class="next action-button" value="@localizer["Next"]" />
                                    </div>
                                    <div class="button-card">
                                        <input type="button" name="previous" class="previous action-button-previous" value="@localizer["Previous"]" />
                                        <img src="~/BranchSys/CreateContract/Vector.png" alt="Button Image" class="previous action-button-previous" style="vertical-align: middle; ">
                                    </div>
                                </div>
                            </fieldset>
                            <fieldset>
                                <div class="form-card form-card4">

                                    <div class="row row-step4 ">
                                        <div class="col-auto">
                                            <label for="national-number-additionalDriver"
                                                   class="col-form-label">
                                                @localizer["RenterId"]
                                            </label>
                                        </div>
                                        <div class="col-sm-3 col-md-3 col-lg-3">
                                            <input type="tel" class="form-control" style="margin-left: -4px;" required asp-for="Contract.AdditionalDriverId" oninput="this.value=this.value.replace(/[^0-9]/g,'')" maxlength="10">
                                            <div class="row requird-field-row">
                                                <span class="requird-field" id="requird_field_AdditionalDriverId" asp-validation-for="@Model.Contract.AdditionalDriverId"></span>
                                            </div>
                                        </div>
                                        <div class="col-auto seacrh-icon-col">
                                            <img src="~/BranchSys/CreateContract/img/seacrh-icon.png" alt="seacrh-icon Image"
                                                 id="hover-image-Add-driver">
                                            <div class="dropdown-content"
                                                 id="dropdown-content-Add-driver">
                                                <div class="row dropdown-content-row pt-2">
                                                    <div class="col-7 pe-4">
                                                        <p>اخر زيارة </p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>3/10/2020</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p>اخر عقد </p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>30/6/2023</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p> عدد العقود </p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>5</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p> عدد ايام التأجير </p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>100</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p> الكبلات المقطوعة </p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>7.200</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p> المبالغ المتداولة</p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>92.500</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p> الرصيد </p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>-1.250</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p> التقييم </p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>4.12</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p> آالية التعامل</p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>جيد</p>
                                                    </div>

                                                </div>
                                                <div class="row dropdown-content-row">
                                                    <div class="col-7 pe-4">
                                                        <p> العوضية</p>
                                                    </div>
                                                    <div class="col personal-data">
                                                        <p>ماسية</p>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row row-step4 align-items-center">
                                        <div class="col-auto" style="padding-bottom: 30px;">
                                            <label for="birth-date-additionalDriver"
                                                   class=" col-form-label">
                                                @localizer["Birthdate"]
                                            </label>

                                        </div>
                                        <div class="col-sm-3 col-md-3 col-lg-3">
                                            <input type="date" class="form-control"
                                                   id="birth-date-additionalDriver"
                                                   name="birth-date-additionalDriver" readonly>
                                            <div class="row requird-field-row">
                                                <p class="requird_field_BirthDate_AddDriver"></p>
                                            </div>
                                        </div>

                                        <div class="col-auto" style="margin-bottom: 32px;">
                                            <button type="button" class="check-btn" data-bs-toggle="modal" id="AddDriverCheckBtn">@localizer["Verification"]</button>
                                        </div>
                                    </div>
                                    <div class="row row-step4">
                                        <div class="col-auto">
                                            <p id="additionalDriver-name">@localizer["Name"] </p>

                                        </div>
                                        <div class="col-auto personal-data">
                                            <p id="AddDriverName"></p>
                                        </div>
                                    </div>
                                    <div class="row row-step4 ">
                                        <div class="col-md-4">
                                            <div class="row " style="justify-content: flex-start;flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="additionalDriver-nationality">
                                                        @localizer["Nationality"]
                                                    </p>

                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p id="AddDriverNationality"></p>
                                                </div>

                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="row " style="justify-content: flex-start;flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="additionalDriver-type">@localizer["Gender"]</p>
                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p id="AddDriverGender"></p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="row " style="justify-content: flex-start;flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="additionalDriver-jop">@localizer["Professions"]</p>
                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p id="AddDriverProffessions"></p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row row-step4 "
                                         style="flex-direction: row-reverse;">
                                        <div class="col-md-4">
                                            <div class="row " style="justify-content: flex-start;flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="additionalDriver-licence-type">@localizer["Typeoflicense"]</p>
                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p id="AddDriverLicenseType"></p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="row " style="justify-content: flex-start;flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="additionalDriver-licence-date">
                                                        @localizer["Issuingit"]
                                                    </p>

                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p id="AddDriverLicenseIssued"></p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="row " style="justify-content: flex-start;flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="additionalDriver-licence-end">
                                                        @localizer["Expirationdate"]
                                                    </p>
                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p id="AddDriverLicenseExpiration"></p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row row-step4 ">
                                        <div class="col-md-8">
                                            <div class="row " style="justify-content: flex-start;flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="additionalDriver-adress">@localizer["Address"]</p>
                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p id="AddDriverAddress"></p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="row " style="justify-content: flex-start; flex-direction: row-reverse;">
                                                <div class="col-auto p-0">
                                                    <p id="workplace">@localizer["Employer"]</p>
                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p id="AddDriverEmployer"></p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row row-step4 ">
                                        <div class="col-auto">
                                            <p id="additionalDriver-email">@localizer["Email"]</p>

                                        </div>
                                        <div class="col-auto personal-data">
                                            <p id="AddDriverEmail"></p>

                                        </div>
                                    </div>
                                    <div class="row row-step4 ">
                                        <div class="col-auto">
                                            <label for="FormControlTextarea3">@localizer["reasons"]</label>
                                        </div>
                                        <div class="col-sm-5 col-md-5 col-lg-5">
                                            <textarea class="form-control" id="FormControlTextarea3" maxlength="100" rows="1" name="addational-driver-notes"></textarea>
                                        </div>
                                    </div>
                                </div>
                                <div class="row button-row">
                                    <div class="button-card">
                                        <img src="~/BranchSys/CreateContract/Group.png" alt="Button Image"
                                             class="next action-button"
                                             style="vertical-align: middle; ">
                                        <input type="button" name="next" class="next action-button"
                                               value="@localizer["Next"]" />
                                    </div>
                                    <div class="button-card">
                                        <input type="button" name="previous"
                                               class="previous action-button-previous"
                                               value="@localizer["Previous"]" />
                                        <img src="~/BranchSys/CreateContract/Vector.png" alt="Button Image"
                                             class="previous action-button-previous"
                                             style="vertical-align: middle; ">
                                    </div>
                                </div>
                            </fieldset>
                            <fieldset>
                                <div class="form-card">
                                    <div class="row  table-field-row ">
                                        <div class="col">
                                            <div class="table-scroll">

                                                <table class="table table-bordered  table-hover table-scroll ">
                                                    <thead>
                                                        <tr>
                                                            <th scope="col"
                                                                class="value-tabel-header">
                                                                القيمة
                                                            </th>
                                                            <th scope="col" style='border-left: 1px solid #ff9626a3;
                                                                                    '>الاضافات</th>

                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td class="text-center">
                                                                ۱۰۰:۰۰
                                                            </td>
                                                            <td class="tabel-data-checkbox-td">
                                                                <label class="Delivery-to-another-branch"
                                                                       for="Delivery-to-another-branch">
                                                                    تسليم بفرع آخر
                                                                </label>
                                                                <input class="Delivery-to-another-branch-input"
                                                                       type="checkbox" name="Additions"
                                                                       value="Delivery-to-another-branch"
                                                                       id="Delivery-to-another-branch">

                                                            </td>
                                                        </tr>
                                                        <tr>

                                                            <td class="text-center">
                                                                ۱۲۰:۰۰

                                                            </td>
                                                            <td class="tabel-data-checkbox-td">
                                                                <label class="Receiving-the-car"
                                                                       for="Receiving-the-car">
                                                                    استلام السيارة
                                                                </label>
                                                                <input class="Receiving-the-car-input"
                                                                       type="checkbox" name="Additions"
                                                                       value="Receiving-the-car"
                                                                       id="Receiving-the-car">

                                                            </td>

                                                        </tr>
                                                        <tr>
                                                            <td class="text-center">
                                                                ۳۰:۰۰

                                                            </td>
                                                            <td class="tabel-data-checkbox-td">
                                                                <label class="child-seat"
                                                                       for="child-seat">
                                                                    كرسي أطفال
                                                                </label>
                                                                <input class="child-seat-input"
                                                                       type="checkbox" name="Additions"
                                                                       value="child-seat"
                                                                       id="child-seat">

                                                            </td>

                                                        </tr>
                                                        <tr>
                                                            <td class="text-center">
                                                                ۳۰:۰۰

                                                            </td>
                                                            <td class="tabel-data-checkbox-td">
                                                                <label class="Baby chair"
                                                                       for="Baby chair">
                                                                    كرسي رضيع
                                                                </label>
                                                                <input class="Baby chair-input"
                                                                       type="checkbox" name="Additions"
                                                                       value="Baby chair"
                                                                       id="Baby chair">

                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td class="text-center">
                                                                ۳۰:۰۰
                                                            </td>
                                                            <td></td>

                                                        </tr>
                                                        <tr>
                                                            <td class="text-center">
                                                                ۳۰:۰۰
                                                            </td>
                                                            <td></td>

                                                        </tr>
                                                        <tr>
                                                            <td class="text-center">
                                                                ۲۰:۰۰

                                                            </td>
                                                            <td></td>

                                                        </tr>
                                                        <tr>
                                                            <td class="text-center">
                                                                ۲۰:۰۰

                                                            </td>
                                                            <td></td>

                                                        </tr>
                                                        <tr>
                                                            <td class="text-center">
                                                                ۲۰:۰۰

                                                            </td>
                                                            <td></td>

                                                        </tr>
                                                        <tr>
                                                            <td class="text-center">
                                                                ۲۰:۰۰

                                                            </td>
                                                            <td></td>

                                                        </tr>
                                                        <tr>
                                                            <td class="text-center">
                                                                ۰۰:۰۰
                                                            </td>
                                                            <td class="text-center">المجموع</td>

                                                        </tr>

                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <div class="col">
                                            <div class="table-scroll">
                                                <table class="table table-bordered  table-hover">
                                                    <thead>
                                                        <tr>
                                                            <th scope="col"
                                                                class="value-tabel-header">
                                                                القيمة
                                                            </th>
                                                            <th scope="col"
                                                                style='border-left: 1px solid #ff9626a3; '>
                                                                الخيارات
                                                            </th>

                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td class="text-center">
                                                                ۱٥:۰۰
                                                            </td>
                                                            <td class="tabel-data-checkbox-td">
                                                                <label class="Open-the-counter"
                                                                       for="Open-the-counter">
                                                                    فتح العداد

                                                                </label>
                                                                <input class="Open-the-counter-input"
                                                                       type="checkbox" name="options"
                                                                       value="Open-the-counter"
                                                                       id="Open-the-counter">
                                                            </td>
                                                        </tr>
                                                        <tr>

                                                            <td class="text-center">
                                                                ۲۰:۰۰

                                                            </td>
                                                            <td class="tabel-data-checkbox-td">
                                                                <label class="full insurance"
                                                                       for="full insurance">
                                                                    تأمين شامل

                                                                </label>
                                                                <input class="full insurance-input"
                                                                       type="checkbox" name="options"
                                                                       value="full insurance"
                                                                       id="full insurance">

                                                            </td>

                                                        </tr>
                                                        <tr>
                                                            <td class="text-center">
                                                                ۳۰:۰۰

                                                            </td>
                                                            <td class="tabel-data-checkbox-td">
                                                                <label class="Plus-insurance"
                                                                       for="Plus-insurance">
                                                                    +تأمين

                                                                </label>
                                                                <input class="Plus-insurance-input"
                                                                       type="checkbox" name="options"
                                                                       value="Plus-insurance"
                                                                       id="Plus-insurance">

                                                            </td>

                                                        </tr>
                                                        <tr>
                                                            <td class="text-center">
                                                                ۲۰:۰۰

                                                            </td>
                                                            <td>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td class="text-center">
                                                                ۲۰:۰۰
                                                            </td>
                                                            <td></td>

                                                        </tr>
                                                        <tr>
                                                            <td class="text-center">
                                                                ۲۰:۰۰
                                                            </td>
                                                            <td></td>

                                                        </tr>
                                                        <tr>
                                                            <td class="text-center">
                                                                ۲۰:۰۰
                                                            </td>
                                                            <td></td>

                                                        </tr>
                                                        <tr>
                                                            <td class="text-center">
                                                                ۲۰:۰۰
                                                            </td>
                                                            <td></td>

                                                        </tr>
                                                        <tr>
                                                            <td class="text-center">
                                                                ۲۰:۰۰
                                                            </td>
                                                            <td></td>

                                                        </tr>
                                                        <tr>
                                                            <td class="text-center">
                                                                ۲۰:۰۰
                                                            </td>
                                                            <td></td>

                                                        </tr>
                                                        <tr>
                                                            <td class="text-center">
                                                                ۰۰:۰۰
                                                            </td>
                                                            <td class="text-center">المجموع</td>

                                                        </tr>

                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row button-row">
                                    <div class="button-card">
                                        <img src="~/BranchSys/CreateContract/Group.png" alt="Button Image"
                                             class="next action-button"
                                             style="vertical-align: middle; margin-right: 10px;">
                                        <input type="button" name="next" class="next action-button"
                                               value="التالي" />
                                    </div>
                                    <div class="button-card">
                                        <input type="button" name="previous"
                                               class="previous action-button-previous"
                                               value="السابق" />
                                        <img src="~/BranchSys/CreateContract/Vector.png" alt="Button Image"
                                             class="previous action-button-previous"
                                             style="vertical-align: middle; margin-right: 10px;">
                                    </div>
                                </div>
                            </fieldset>
                            <fieldset>
                                <div class="form-card">
                                    <div class="row">
                                        <div class="col-md-8">
                                            <div class="row CurrentReadingg_row"
                                                 style="flex-direction: row-reverse;align-items: baseline;">
                                                <div class="col-auto">
                                                    <label id="CurrentReadingg"
                                                           for="CurrentReadingg-input">
                                                        القراءة الحالية
                                                    </label>
                                                </div>
                                                <div class="col-auto">
                                                    <input type="tel" class="form-control1"
                                                           style="width: 130px;"
                                                           id="CurrentReadingg-input"
                                                           name="CurrentReadingg-input" required>
                                                </div>
                                            </div>
                                            <div class="upload__box d-flex">
                                                <div class="upload_img-wrap_inner" style="display: flex;
                                                                  flex-wrap: wrap;
                                                                  gap: 10px ">
                                                    <div class="upload__img-box" id="upload-img1">
                                                    </div>
                                                    <div class="upload__btn-box">
                                                        <label class="upload__btn">
                                                            <div class="upload-container-checking">
                                                                <img class="upload-icon"
                                                                     src="~/BranchSys/CreateContract/Group (1).png"
                                                                     alt="Upload Icon">
                                                                <input type="file" multiple
                                                                       accept="image/*"
                                                                       data-max_length="20"
                                                                       id="checking-img"
                                                                       class="upload__inputfile "
                                                                       onclick="HideFirstImg()">
                                                            </div>
                                                        </label>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="row">
                                                <p style="color: red;">
                                                    بحد أدنى صورة واحدة (۱) وحد
                                                    أقصى اثني عشرة صورة (۱۲)
                                                </p>
                                            </div>

                                        </div>

                                        <div class="col-md-4">
                                            <div class="table-scroll">
                                                <table class="table table-bordered  table-hover">
                                                    <thead>
                                                        <tr>
                                                            <th scope="col"
                                                                class="value-tabel-header">
                                                                ملاحظات
                                                            </th>
                                                            <th scope="col"
                                                                style='border-left: 1px solid #ff9626a3; '>
                                                                بنود الفحص
                                                            </th>

                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td class="text-center">
                                                                <textarea style="border: none;height: 24px; resize: none;"
                                                                          id="Tires-textarea"
                                                                          maxlength="100"
                                                                          name="Tires-textarea"></textarea>
                                                            </td>
                                                            <td class="tabel-data-checkbox-td">
                                                                <label class="Tires" for="Tires">
                                                                    الإطارات

                                                                </label>
                                                                <input class="Tires-input"
                                                                       type="checkbox"
                                                                       name="Examination-items"
                                                                       value="Tires" id="Tires">
                                                            </td>
                                                        </tr>
                                                        <tr>

                                                            <td class="text-center">
                                                                <textarea style="border: none;height: 24px; resize: none;"
                                                                          id="lights-textarea"
                                                                          maxlength="100"
                                                                          name="lights-textarea"></textarea>
                                                            </td>
                                                            <td class="tabel-data-checkbox-td">
                                                                <label class="lights" for="lights">
                                                                    الأنوار

                                                                </label>
                                                                <input class="lights-input"
                                                                       type="checkbox"
                                                                       name="Examination-items"
                                                                       value="lights" id="lights">

                                                            </td>

                                                        </tr>
                                                        <tr>
                                                            <td class="text-center">
                                                                <textarea style="border: none;height: 24px; resize: none;"
                                                                          id="Air_conditioner-textarea"
                                                                          maxlength="100"
                                                                          name="Air_conditioner-textarea"></textarea>
                                                            </td>
                                                            <td class="tabel-data-checkbox-td">
                                                                <label class="Air_conditioner"
                                                                       for="Air_conditioner">
                                                                    المكيف

                                                                </label>
                                                                <input class="Air_conditioner-input"
                                                                       type="checkbox"
                                                                       name="Examination-items"
                                                                       value="Air_conditioner"
                                                                       id="Air_conditioner">
                                                            </td>

                                                        </tr>
                                                        <tr>
                                                            <td class="text-center">
                                                                <textarea style="border: none;height: 24px; resize: none;"
                                                                          id="Safety_Security-textarea"
                                                                          maxlength="100"
                                                                          name="Safety_Security-textarea"></textarea>
                                                            </td>
                                                            <td class="tabel-data-checkbox-td">
                                                                <label class="Safety_Security"
                                                                       for="Safety_Security">
                                                                    الأمن والسلامة

                                                                </label>
                                                                <input class="Safety_Security-input"
                                                                       type="checkbox"
                                                                       name="Examination-items"
                                                                       value="Safety_Security"
                                                                       id="Safety_Security">
                                                            </td>

                                                        </tr>
                                                        <tr>
                                                            <td class="text-center">
                                                                <textarea style="border: none;height: 24px; resize: none;"
                                                                          id="wiper-textarea"
                                                                          maxlength="100"
                                                                          name="wiper-textarea"></textarea>
                                                            </td>
                                                            <td class="tabel-data-checkbox-td">
                                                                <label class="wiper" for="wiper">
                                                                    المساحات

                                                                </label>
                                                                <input class="wiper-input"
                                                                       type="checkbox"
                                                                       name="Examination-items"
                                                                       value="wiper" id="wiper">
                                                            </td>

                                                        </tr>
                                                        <tr>
                                                            <td class="text-center">
                                                                <textarea style="border: none;height: 24px; resize: none;"
                                                                          id="signals-textarea"
                                                                          maxlength="100"
                                                                          name="signals-textarea"></textarea>
                                                            </td>
                                                            <td class="tabel-data-checkbox-td">
                                                                <label class="signals"
                                                                       for="signals">
                                                                    الإشارات

                                                                </label>
                                                                <input class="signals-input"
                                                                       type="checkbox"
                                                                       name="Examination-items"
                                                                       value="signals" id="signals">
                                                            </td>

                                                        </tr>
                                                        <tr>
                                                            <td class="text-center">
                                                                <textarea style="border: none;height: 24px; resize: none;"
                                                                          id="cleanliness-textarea"
                                                                          maxlength="100"
                                                                          name="cleanliness-textarea"></textarea>
                                                            </td>
                                                            <td class="tabel-data-checkbox-td">
                                                                <label class="cleanliness"
                                                                       for="cleanliness">
                                                                    النظافة

                                                                </label>
                                                                <input class="cleanliness-input"
                                                                       type="checkbox"
                                                                       name="Examination-items"
                                                                       value="cleanliness"
                                                                       id="cleanliness">
                                                            </td>

                                                        </tr>
                                                        <tr>
                                                            <td class="text-center">
                                                                <textarea style="border: none;height: 24px; resize: none;"
                                                                          id="Front_brake-textarea"
                                                                          maxlength="100"
                                                                          name="Front_brake-textarea"></textarea>
                                                            </td>
                                                            <td class="tabel-data-checkbox-td">
                                                                <label class="Front_brake "
                                                                       for="Front_brake">
                                                                    الفرامل الأمامية

                                                                </label>
                                                                <input class="Front_brake-input"
                                                                       type="checkbox"
                                                                       name="Examination-items"
                                                                       value="Front_brake"
                                                                       id="Front_brake">
                                                            </td>

                                                        </tr>
                                                        <tr>
                                                            <td class="text-center">
                                                                <textarea style="border: none;height: 24px; resize: none;"
                                                                          id="Rear_brake-textarea"
                                                                          maxlength="100"
                                                                          name="Rear_brake-textarea"></textarea>
                                                            </td>
                                                            <td class="tabel-data-checkbox-td">
                                                                <label class="Rear_brake"
                                                                       for="Rear_brake">
                                                                    الفرامل الخلفية

                                                                </label>
                                                                <input class="Rear_brake-input"
                                                                       type="checkbox"
                                                                       name="Examination-items"
                                                                       value="Rear_brake"
                                                                       id="Rear_brake">
                                                            </td>

                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <div class="row button-row"
                                     style=" justify-content: space-between;">
                                    <div class="button-card">
                                        <img src="~/BranchSys/CreateContract/Group.png" alt="Button Image"
                                             class="next action-button"
                                             style="vertical-align: middle; margin-right: 10px;">
                                        <input type="submit" name="next" class="next action-button"
                                               value="التالي" />
                                    </div>
                                    <div class="button-card">
                                        <input type="button" name="previous"
                                               class="previous action-button-previous"
                                               value="السابق" />
                                        <img src="~/BranchSys/CreateContract/Vector.png" alt="Button Image"
                                             class="previous action-button-previous"
                                             style="vertical-align: middle; margin-right: 10px;">
                                    </div>
                                </div>

                            </fieldset>
                            <fieldset>
                                <div class="form-card form-card7">
                                    <div class="row" style="flex-direction: row-reverse;">
                                        <div class="col payment-col"
                                             style="display: flex; flex-direction: column;">
                                            <div class="row" style="flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="contract-number">رقم العقد</p>

                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p> ٤٥-۱-٦۳٥٤-٥٤-٥٦</p>

                                                </div>
                                            </div>
                                            <div class="row" style="flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <label id="days-number" for="days-number-input">
                                                        عدد
                                                        الأيام
                                                    </label>
                                                </div>
                                                <div class="col-auto">
                                                    <input type="tel" class="form-control1"
                                                           id="days-number-input" name="days-number"
                                                           required>
                                                </div>
                                                <div class="row requird-field-row-last">
                                                    <!-- <p class="requird-field">هذا الحقل مطلوب</p> -->
                                                </div>
                                            </div>
                                            <div class="row" style="flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="renting-price"> سعر الإيجار</p>

                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p>۱٥۰۰.۰۰</p>
                                                </div>
                                            </div>
                                            <div class="row" style="flex-direction: row-reverse;">
                                                <div class="col-md-6" style=" display: flex;
                                                                    justify-content: flex-end;">
                                                    <div class="Delegate-out d-flex gap-2">
                                                        <label class="Delegate-out-label"
                                                               for="Delegate-out">
                                                            تفويض خارجي
                                                        </label>
                                                        <input class="Delegate-out-input"
                                                               type="checkbox" value=""
                                                               id="Delegate-out">

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row" style="flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <label id="discount-percentage"
                                                           for="discount-percentage-input">
                                                        نسبة
                                                        الخصم
                                                    </label>
                                                </div>
                                                <div class="col-auto">
                                                    <input type="tel" class="form-control1"
                                                           id="discount-percentage-input"
                                                           name="discount-percentage" required>
                                                </div>
                                                <div class="row requird-field-row-last">
                                                    <!-- <p class="requird-field">هذا الحقل مطلوب</p> -->
                                                </div>
                                            </div>
                                            <div class="row" style="flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="Total contract">إجمالي العقد</p>

                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p>۱٥۰٥.۰۰</p>
                                                </div>
                                            </div>
                                            <div class="row" style="flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="Total contract"> صافي العقد</p>

                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p>۱۷۳۰.۷٥</p>
                                                </div>
                                            </div>
                                            <div class="row" style="flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <label id="amount-paid" for="amount-paid-input">
                                                        المبلغ المدفوع
                                                    </label>
                                                </div>
                                                <div class="col-auto">
                                                    <input type="tel" class="form-control2"
                                                           id="amount-paid-input" name="amount-paid"
                                                           required>
                                                </div>
                                                <div class="row requird-field-row-last">
                                                    <!-- <p class="requird-field">هذا الحقل مطلوب</p> -->
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col payment-col"
                                             style="display: flex; flex-direction: column;">
                                            <div class="row" style="flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="start-date">تاريخ البداية</p>

                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p>
                                                        ۲۰۲۲/۲/٥
                                                    </p>

                                                </div>
                                            </div>
                                            <div class="row" style="flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="end-date">تاريخ النهاية</p>

                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p>
                                                        ۲۰۲۲/۲/٥
                                                    </p>

                                                </div>
                                            </div>
                                            <div class="row" style="flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="options">الخيارات </p>

                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p>
                                                        ۰۰.۰۰
                                                    </p>

                                                </div>
                                            </div>
                                            <div class="row" style="flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="contract-value">قيمة العقد </p>

                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p>
                                                        ۱٥۰٥.۰۰
                                                    </p>

                                                </div>
                                            </div>
                                            <div class="row" style="flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <label id="addational-hours"
                                                           for="addational-hours-input">
                                                        الساعات
                                                        الإضافية
                                                    </label>
                                                </div>
                                                <div class="col-auto">
                                                    <input type="tel" class="form-control1"
                                                           id="addational-hours-input"
                                                           name="addational-hours" required>
                                                </div>
                                                <div class="row requird-field-row-last">
                                                    <!-- <p class="requird-field">هذا الحقل مطلوب</p> -->
                                                </div>
                                            </div>
                                            <div class="row" style="flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="Tax-value
                                                                            "> قيمة الضريبة </p>

                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p>
                                                        ۲۲٥.۷٥
                                                    </p>

                                                </div>
                                            </div>
                                            <div class="row" style="flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="previous-balance"> رصيد سابق</p>

                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p>
                                                        ۰۰.۹٦
                                                    </p>

                                                </div>
                                            </div>
                                            <div class="row" style="flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <div class="row"
                                                         style="flex-direction: row-reverse;">
                                                        <div class="col-auto">
                                                            <p id="payment-method">طريقة الدفع</p>

                                                        </div>

                                                        <div class="col-auto ">
                                                            <div class="offset">
                                                                <select class="form-select-last"
                                                                        id="payment-method-select">
                                                                    <option selected disabled>
                                                                    </option>
                                                                    <option value=""> </option>
                                                                    <option value=""> </option>
                                                                    <option value=""> </option>
                                                                </select>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col payment-col"
                                             style="display: flex; flex-direction: column;">
                                            <div class="row" style="flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="start-time">وقت البداية</p>

                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p> ۰٥:۲۷ </p>

                                                </div>
                                            </div>
                                            <div class="row" style="flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="start-time">وقت النهاية</p>

                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p> ۰٥:۲۷ </p>

                                                </div>
                                            </div>
                                            <div class="row"
                                                 style="flex-direction: row-reverse; justify-content: space-between;">
                                                <div class="col-auto d-flex p-0">
                                                    <div class="col-auto personal-data">
                                                        <p> ۰۰.۰۰ </p>

                                                    </div>
                                                    <div class="col-auto">
                                                        <p id="start-time"> الإضافات</p>
                                                    </div>
                                                </div>
                                                <div class="col-auto d-flex pe-0">
                                                    <div class="col-auto personal-data">
                                                        <p> ۱٥۰۰.۰۰</p>
                                                    </div>
                                                    <div class="col-auto">
                                                        <p id="start-time"> السائق الإضافي</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row" style="height:37px">
                                            </div>
                                            <div class="row" style="flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <label id="addational-kilos"
                                                           for="addational-kilos-input">
                                                        الكيلات الإضافية
                                                    </label>
                                                </div>
                                                <div class="col-auto">
                                                    <input type="tel" class="form-control1"
                                                           id="addational-kilos-input"
                                                           name="addational-kilos" required>
                                                </div>
                                                <div class="row requird-field-row-last">
                                                    <!-- <p class="requird-field">هذا الحقل مطلوب</p> -->
                                                </div>
                                            </div>
                                            <div class="row" style="height:37px">
                                            </div>
                                            <div class="row" style="flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <p id="price"> المبلغ المطلوب</p>

                                                </div>
                                                <div class="col-auto personal-data">
                                                    <p> ۱۷۲۹.۷۹ </p>

                                                </div>
                                            </div>
                                            <div class="row" style="flex-direction: row-reverse;">
                                                <div class="col-auto">
                                                    <div class="row"
                                                         style="flex-direction: row-reverse;">
                                                        <div class="col-auto">
                                                            <p id="selling-point"> نقطة البيع </p>

                                                        </div>

                                                        <div class="col-auto ">
                                                            <div class="offset">
                                                                <select class="form-select-last"
                                                                        id="selling-point-dropdown">
                                                                    <option selected disabled>
                                                                    </option>
                                                                    <option value=""> </option>
                                                                    <option value=""> </option>
                                                                    <option value=""> </option>
                                                                </select>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row p-2 row-step1 ">
                                            <div class="col-auto">
                                                <p id="notes">ملاحظات</p>
                                            </div>
                                            <div class="col-sm-5 col-md-5 col-lg-5">
                                                <textarea class="form-control"
                                                          id="FormControl-last-Textarea" rows="1"
                                                          minlength="100"></textarea>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <div class="row button-row align-items-center"
                                     style="padding: 6px 7px 0px 20px;">
                                    <div class="button-card  gap-2">
                                        <button type="submit"
                                                class=" check-btn payment-button">
                                            حفظ
                                        </button>
                                        <button type="button" class=" check-btn payment-button"
                                                data-bs-toggle="modal" href="#paymentPopupModal">
                                            تفويض
                                        </button>
                                        <button type="button" class=" check-btn payment-button"
                                                data-bs-toggle="modal" href="#signaturePopupModal">
                                            توقيع
                                            المستأجر
                                        </button>

                                    </div>
                                    <div class="button-card">
                                        <input type="button" name="previous"
                                               class="previous action-button-previous"
                                               value="السابق" />
                                        <img src="~/BranchSys/CreateContract/Vector.png" alt="Button Image"
                                             class="previous action-button-previous"
                                             style="vertical-align: middle; margin-right: 10px;">
                                    </div>
                                </div>
                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>


            <!-- Renter -->
            <div class="modal fade" id="checkModalToggle" aria-hidden="true"
                 aria-labelledby="checkModalToggleLabel" tabindex="-1">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header text-center">
                            <p class="modal-title w-100">
                                رمز التحقق تنتهي صلاحيته بعد 01:30
                            </p>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>

                        </div>
                        <div class="modal-body">
                            <form class="otc" name="one-time-code" id="otc">
                                <legend>
                                    @localizer["PleaseShowMobile"]<p id="MobileNumber"></p>
                                </legend>
                                <div>
                                    <input type="number" pattern="[0-9]*" value=""
                                           inputtype="numeric" autocomplete="one-time-code" id="otc1"
                                           name="otc1" required>
                                    <!-- Autocomplete not to put on other input -->
                                    <input type="number" pattern="[0-9]*" min="0" max="9"
                                           maxlength="1" value="" inputtype="numeric" id="otc2"
                                           name="otc2" required>
                                    <input type="number" pattern="[0-9]*" min="0" max="9"
                                           maxlength="1" value="" inputtype="numeric" id="otc3"
                                           name="otc3" required>
                                    <input type="number" pattern="[0-9]*" min="0" max="9"
                                           maxlength="1" value="" inputtype="numeric" id="otc4"
                                           name="otc4" required>
                                    <input type="number" pattern="[0-9]*" min="0" max="9"
                                           maxlength="1" value="" inputtype="numeric" id="otc5"
                                           name="otc5" required>
                                    <input type="number" pattern="[0-9]*" min="0" max="9"
                                           maxlength="1" value="" inputtype="numeric" id="otc6"
                                           name="otc6" required>
                                </div>
                                <p style="color: red;" id="WrongCodeMessage"></p>
                                <button type="button"
                                        class=" check-btn ModalButtons resend">
                                    @localizer["SendAnotherCode"]
                                </button>

                                <button type="submit" class="  check-btn check">
                                    @localizer["Submit"]
                                </button>

                            </form>

                        </div>

                    </div>
                </div>
            </div>
            <!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
            <!-- Driver -->
            <div class="modal fade" id="checkModalToggleDriver" aria-hidden="true"
                 aria-labelledby="checkModalToggleLabel" tabindex="-1">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header text-center">
                            <p class="modal-title w-100">
                                رمز التحقق تنتهي صلاحيته بعد 01:30
                            </p>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>

                        </div>
                        <div class="modal-body">
                            <form class="otc" name="one-time-code" id="otc00">
                                <legend>
                                    @localizer["PleaseShowMobile"]<p id="MobileNumberDriver"></p>
                                </legend>
                                <div>
                                    <input type="number" pattern="[0-9]*" value=""
                                           inputtype="numeric" autocomplete="one-time-code" id="otc11"
                                           name="otc11" required>
                                    <!-- Autocomplete not to put on other input -->
                                    <input type="number" pattern="[0-9]*" min="0" max="9"
                                           maxlength="1" value="" inputtype="numeric" id="otc22"
                                           name="otc22" required>
                                    <input type="number" pattern="[0-9]*" min="0" max="9"
                                           maxlength="1" value="" inputtype="numeric" id="otc33"
                                           name="otc33" required>
                                    <input type="number" pattern="[0-9]*" min="0" max="9"
                                           maxlength="1" value="" inputtype="numeric" id="otc44"
                                           name="otc44" required>
                                    <input type="number" pattern="[0-9]*" min="0" max="9"
                                           maxlength="1" value="" inputtype="numeric" id="otc55"
                                           name="otc55" required>
                                    <input type="number" pattern="[0-9]*" min="0" max="9"
                                           maxlength="1" value="" inputtype="numeric" id="otc66"
                                           name="otc66" required>
                                </div>
                                <p style="color: red;" id="WrongCodeMessageDriver"></p>
                                <button type="button"
                                        class=" check-btn ModalButtons resend">
                                    @localizer["SendAnotherCode"]
                                </button>

                                <button type="submit" class="check-btn check">
                                    @localizer["Submit"]
                                </button>

                            </form>

                        </div>

                    </div>
                </div>
            </div>
            <!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
            <!--Additional Driver -->
            <div class="modal fade" id="checkModalToggleAddDriver" aria-hidden="true"
                 aria-labelledby="checkModalToggleLabel" tabindex="-1">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header text-center">
                            <p class="modal-title w-100">
                                رمز التحقق تنتهي صلاحيته بعد 01:30
                            </p>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>

                        </div>
                        <div class="modal-body">
                            <form class="otc" name="one-time-code" id="otc000">
                                <legend>
                                    @localizer["PleaseShowMobile"]<p id="MobileNumberAddDriver"></p>
                                </legend>
                                <div>
                                    <input type="number" pattern="[0-9]*" value=""
                                           inputtype="numeric" autocomplete="one-time-code" id="otc111"
                                           name="otc111" required>
                                    <!-- Autocomplete not to put on other input -->
                                    <input type="number" pattern="[0-9]*" min="0" max="9"
                                           maxlength="1" value="" inputtype="numeric" id="otc222"
                                           name="otc222" required>
                                    <input type="number" pattern="[0-9]*" min="0" max="9"
                                           maxlength="1" value="" inputtype="numeric" id="otc333"
                                           name="otc333" required>
                                    <input type="number" pattern="[0-9]*" min="0" max="9"
                                           maxlength="1" value="" inputtype="numeric" id="otc444"
                                           name="otc444" required>
                                    <input type="number" pattern="[0-9]*" min="0" max="9"
                                           maxlength="1" value="" inputtype="numeric" id="otc555"
                                           name="otc555" required>
                                    <input type="number" pattern="[0-9]*" min="0" max="9"
                                           maxlength="1" value="" inputtype="numeric" id="otc666"
                                           name="otc666" required>
                                </div>
                                <p style="color: red;" id="WrongCodeMessageAddDriver"></p>
                                <button type="button"
                                        class=" check-btn ModalButtons resend">
                                    @localizer["SendAnotherCode"]
                                </button>

                                <button type="submit" class="check-btn check">
                                    @localizer["Submit"]
                                </button>

                            </form>

                        </div>

                    </div>
                </div>
            </div>
            <!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
            <div class="modal fade" id="thirdPopupModal" tabindex="-1" data-bs-backdrop="static"
                 aria-labelledby="thirdPopupModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered d-flex justify-content-center">
                    <div class="modal-content spinner-modal-content">

                        <div class="modal-body spinner-modal">
                            <svg class="spinner" width="65px" height="65px" viewBox="0 0 66 66"
                                 xmlns="http://www.w3.org/2000/svg">
                                <circle class="path" fill="none" stroke-width="6"
                                        stroke-linecap="round" cx="33" cy="33" r="30"> </circle>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
            <!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
            <div class="modal fade" id="paymentPopupModal" tabindex="-1"
                 aria-labelledby="payPopupModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered d-flex justify-content-center">
                    <div class="modal-content authorization-modal-content pt-5">
                        <div class="modal-body authorization">
                            <form id="AuthorizationForm">
                                <div class="mb-5">

                                    <input type="tel" name="days-number-of-authorization"
                                           class="form-control1" value=""
                                           id="days-number-of-authorization"
                                           style="background-color: rgba(247, 247, 247, 1);" required>
                                    <label for="days-number-of-authorization" style="font-weight: 600;font-size: 15px;
                                                ">عدد ايام التفويض</label>
                                </div>
                                <button type="submit" class="check-btn check-btn2 ">
                                    ارسال رمز
                                    التحقق
                                </button>

                            </form>

                        </div>
                    </div>
                </div>
            </div>
            <!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
            <div class="modal fade" id="signaturePopupModal" tabindex="-1"
                 aria-labelledby="signaturePopupModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered d-flex justify-content-center">
                    <div class="modal-content signature-modal-content pt-5 pb-5">
                        <div class="modal-body signature">
                            <div style="  display: flex; flex-direction: column ;gap: 30px;">
                                <button type="button" class="check-btn"
                                        onclick="OpenHandSignPopup()">
                                    باستخدام الجهاز
                                    اللوحي(التابلت)
                                </button>
                                <button type="button" class="check-btn"
                                        onclick="OpenPicSignPopup()">
                                    رفع صورة التوقيع
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
            <div class="modal fade" id="handsignatureModal" tabindex="-1"
                 aria-labelledby="handsignaturPopupModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered d-flex justify-content-center">
                    <div class="modal-content handsignature-modal-content pt-5 pb-5">
                        <div class="modal-body handsignature">
                            <canvas id="canvas" width="200" height="200"></canvas>
                            <br>
                            <!-- <button id="clear">Clear</button> -->
                            <button id="save" class="check-btn" style="width: 200px;">
                                قبول
                                التوقيع
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
            <div class="modal fade" id="PicsignatureModal" tabindex="-1"
                 aria-labelledby="PicignaturPopupModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered d-flex justify-content-center">
                    <div class="modal-content Picsignature-modal-content pt-5 pb-5">
                        <div class="modal-body Picsignature">
                            <form>
                                <div class="upload-container">
                                    <img class="upload-icon" src="~/BranchSys/CreateContract/img/Rectangle 144.png"
                                         alt="Upload Icon">
                                    <p>ارفق صورة التوقيع</p>
                                    <input type="file" id="imageUpload" accept="image/*"
                                           style="display: none;">
                                </div>
                                <br>
                                <button id="image-submit-Btn" class="check-btn"
                                        style="width: 200px;">
                                    قبول التوقيع
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<footer class="fixed-bottom-xl">
    <div class="before-footer-widget">
        <svg width: 100%; height:auto viewbox="0 0 2444 132">
            <path fill="rgba(254, 248, 232, 1)" fill-rule="evenodd"
                  d="M1222 0h1222c-444.13 88-852.127 132-1223.993 132C849.253 132 442.585 88.263 0 .789V0h1222z">
            </path>
        </svg>
    </div>
</footer>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <!--makes bootsrab animation works-->
    <script src="https://cdn.jsdelivr.net/npm/@@popperjs/core@2.9.2/dist/umd/popper.min.js"
            integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
            integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script src="~/BranchSys/CreateContract/contract.js"></script>
    <script src="~/BranchSys/CreateContract/contract2.js"></script>
    <script>


        // //////////////////////choose-adriver-display////////////////
        document.addEventListener("DOMContentLoaded", function () {
            $(".seacrh-icon-col").hide();
            $("#PrivateDriverDiv").hide();
            $("#RenterIsdriverDiv").hide();
            // Check if have driver or not
            var driverRadio1 = document.getElementById("RenterIsdriver");
            var driverRadio2 = document.getElementById("PrivateDriver");
            var dropdownContainer = document.getElementById("dropdown-container");

            driverRadio1.addEventListener("click", function () {
                dropdownContainer.style.display = "none";
                driverRadio2.checked = false;
            });

            driverRadio2.addEventListener("click", function () {
                if (this.checked) {
                    dropdownContainer.style.display = "block";
                    driverRadio1.checked = false;
                } else {
                    dropdownContainer.style.display = "none";
                }
            });
        });

    </script>
    <script>
        var CheckIfRenterIdExist = false;
        var CheckIfDriverIdExist = false;
        var CheckIfAddDriverIdExist = false;
        var RenterInformation;
        var DriverInformation;
        var AddDriverInformation;
        var SerialNumberOfCar;
        var CarInformation;


        // For Renter
        async function GetRenterInformation(RenterId) {
            try {
                var data = await $.ajax({
                    url: "/BS/Contract/GetRenter",
                    type: "GET",
                    data: { RenterId: RenterId },
                });

                RenterInformation = data;
                if (data != null) {
                    return true; // Renter exists
                }
            } catch (error) {
                toastr.options = { "positionClass": '@localizer["toastPostion"]', };
                toastr.error('@localizer["SomethingWrongPleaseCallAdmin"]');
                return false; // Error occurred or Renter doesn't exist
            }
            return false; // Renter doesn't exist
        }
        //Restart All informations
        $(document).ready(function () {
            var initialRenterID = $('#Contract_RenterId').val();
            $('#Contract_RenterId').on('change', function () {
                // Check if the value has changed
                if ($(this).val() !== initialRenterID) {
                    // Clear previous data and style
                    $("#RenterAddress").text('').css("color", "");
                    $("#RenterEmail").text('').css("color", "");
                    $("#requird_field_Birthdate").text('').css("color", "");
                    $("#RenterName").text('');
                    $("#birth-date-step1").val('');
                    document.getElementById("PrivateDriver").checked = false;
                    document.getElementById("RenterIsdriver").checked = false;
                    document.getElementById("dropdown-container").style.display = "none";
                    $("#PrivateDriverDiv").hide();
                    $("#RenterIsdriverDiv").hide();
                    var CheckIfRenterIdExist = false;
                    var CheckIfDriverIdExist = false;
                    var CheckIfAddDriverIdExist = false;
                    var RenterInformation = null;
                    var DriverInformation = null;
                    var AddDriverInformation = null;
                    // Update the initial value of RenterID
                    initialRenterID = $(this).val();
                }
            });
        });
        //For Renter Modal
        document.addEventListener('DOMContentLoaded', function () {
            var RenterCheckBtn = document.getElementById('RenterCheckBtn');
            var FieldRequiredRenterID = document.getElementById('requird-field_RenterID');
            console.log("xxxxxxxx")
            RenterCheckBtn.addEventListener('click', async function () {
                var RenterID = $('#Contract_RenterId').val();
                console.log("xxxxxxxx")
                if ($("#msform").valid()) {
                    CheckIfRenterIdExist = await GetRenterInformation(RenterID);
                    if (CheckIfRenterIdExist) {
                        $('#checkModalToggle').modal('show');
                        // get mobile number
                        $("#MobileNumber").text("+" + RenterInformation.keyCountry + " " + RenterInformation.mobileNumber);
                    } else {
                        $('#requird-field_RenterID').text('@localizer["RenterIdWrong"]');
                    }
                }
            });
        });
        // Modal Submit Code from Mobile
        ///////////////////////////////////////////////the-Modal-6-digit-vaildation/////////////////////
        function openThirdPopup() {
            // Clear previous data and style
            $("#RenterAddress").text('').css("color", "");
            $("#RenterEmail").text('').css("color", "");
            $("#requird_field_Birthdate").text('').css("color", "");
            $("#RenterName").text('');
            $("#birth-date-step1").val('');
            ////////////////////////////////
            $('#checkModalToggle').modal('hide');
            $('#thirdPopupModal').modal('show');
            setTimeout(function () {
                $('#thirdPopupModal').modal('hide');
                console.log(RenterInformation);
                var firstCharacterFromID = RenterInformation.renterID.charAt(0);
                var currentDate = new Date();
                var ExpiryIdDate = new Date(RenterInformation.expiryIdDate);
                var driverCount = "@Model.Drivers.Count()";

                setTimeout(function () {
                    var birthdate = RenterInformation.birthDate.split('T')[0];
                    if ("@requestCulture?.RequestCulture.UICulture.Name" == "en-US") {
                        if (RenterInformation.postEnNameConcenate != "" && RenterInformation.postEnNameConcenate != null && RenterInformation.postEnNameConcenate != undefined) {
                            $("#RenterAddress").text(RenterInformation.postEnNameConcenate);
                        }
                        else {
                            $("#RenterAddress").text('@localizer["notfound"]').css("color", "red");
                        }
                        if (RenterInformation.personalEmail != "" && RenterInformation.personalEmail != null && RenterInformation.personalEmail != undefined) {
                            $("#RenterEmail").text(RenterInformation.personalEmail);
                        }
                        else {
                            $("#RenterEmail").text('@localizer["notfound"]').css("color", "red");
                        }
                        if (ExpiryIdDate < currentDate) {
                            $("#requird_field_Birthdate").text('@localizer["IdIsExpire"]').css("color", "red");
                        }
                        if (firstCharacterFromID !== "7") {
                            $("#RenterIsdriverDiv").show();
                        }
                        if (parseInt(driverCount) > 0) {
                            $("#PrivateDriverDiv").show();
                        }
                        $("#RenterName").text(RenterInformation.personalEnName);
                        $("#birth-date-step1").val(birthdate);
                    }
                    else {

                        if (RenterInformation.postArNameConcenate != "" && RenterInformation.postArNameConcenate != null && RenterInformation.postArNameConcenate != undefined) {
                            $("#RenterAddress").text(RenterInformation.postArNameConcenate);
                        }
                        else {
                            $("#RenterAddress").text('@localizer["notfound"]').css("color", "red");
                        }
                        if (RenterInformation.personalEmail != "" && RenterInformation.personalEmail != null && RenterInformation.personalEmail != undefined) {
                            $("#RenterEmail").text(RenterInformation.personalEmail);
                        }
                        else {
                            $("#RenterEmail").text('@localizer["notfound"]');
                        }
                        if (ExpiryIdDate < currentDate) {
                            $("#requird_field_Birthdate").text('@localizer["IdIsExpire"]').css("color", "red");
                        }
                        if (firstCharacterFromID !== "7") {
                            $("#RenterIsdriverDiv").show();
                        }
                        if (parseInt(driverCount) > 0) {
                            $("#PrivateDriverDiv").show();
                        }
                        $("#RenterName").text(RenterInformation.personalArName);
                        $("#birth-date-step1").val(birthdate);
                    }
                }, 1000);
            }, 1000); // Adjust the duration as needed (in milliseconds)
        }
        document.addEventListener('DOMContentLoaded', function () {
            document.querySelector('#otc').addEventListener('submit', function (event) {
                event.preventDefault();
                var inputFieldValue = document.getElementById('otc1');
                var numericValue = parseInt(inputFieldValue.value);

                if (isNaN(numericValue)) {
                    // Input value is not a number or is empty
                    console.log('Input value:', numericValue);
                    return;
                }
                // Gather values from input fields
                var otc1 = $("#otc1").val();
                var otc2 = $("#otc2").val();
                var otc3 = $("#otc3").val();
                var otc4 = $("#otc4").val();
                var otc5 = $("#otc5").val();
                var otc6 = $("#otc6").val();

                // Concatenate values into a single string
                var concatenatedCode = otc1 + otc2 + otc3 + otc4 + otc5 + otc6;
                console.log('Input value:', concatenatedCode);
                if (concatenatedCode === '111111') {
                    openThirdPopup();
                }
                else {
                    $('#WrongCodeMessage').text('الرمز المدخل غير صحيح');
                }
                document.getElementById('otc1').value = '';
                document.getElementById('otc2').value = '';
                document.getElementById('otc3').value = '';
                document.getElementById('otc4').value = '';
                document.getElementById('otc5').value = '';
                document.getElementById('otc6').value = '';
            });
        });





        // For Driver///////////////////////
        async function GetDriverInformation(DriverId) {
            try {
                var data = await $.ajax({
                    url: "/BS/Contract/GetRenter",
                    type: "GET",
                    data: { RenterId: DriverId },
                });

                DriverInformation = data;
                console.log("data", data)
                console.log("DriverInformation", DriverInformation)
                if (data != null) {
                    return true; // Renter exists
                }
            } catch (error) {
                toastr.options = { "positionClass": '@localizer["toastPostion"]', };
                toastr.error('@localizer["SomethingWrongPleaseCallAdmin"]');
                return false; // Error occurred or Renter doesn't exist
            }
            return false; // Renter doesn't exist
        }
        $(document).ready(function () {
            // Store the initial value of RenterID
            var initialDriver = $('#Contract_DriverId').val();
            // Event handler for the change event on #Contract_RenterId
            $('#Contract_DriverId').on('change', function () {
                // Check if the value has changed
                if ($(this).val() !== initialDriver) {
                    // Clear previous data and style
                    $("#requird_field_Birthdate_driver").text('').css("color", "");
                    $("#birth-date-driver").val(null);
                    $("#DriverAddress").text("");
                    $("#DriverEmail").text("");
                    $("#DriverName").text("");
                    $("#DriverNationality").text("");
                    $("#DriverGender").text("");
                    $("#DriverProffessions").text("");
                    $("#DriverLicenseType").text("");
                    $("#DriverLicenseIssued").text("");
                    $("#DriverLicenseExpiration").text("");
                    $("#DriverEmployer").text("");
                    CheckIfDriverIdExist = false;
                    DriverInformation = null;
                    // Update the initial value of RenterID
                    initialDriver = $(this).val();
                }
            });
        });
        //For Renter Modal
        document.addEventListener('DOMContentLoaded', function () {
            var DriverCheckBtn = document.getElementById('DriverCheckBtn');
            DriverCheckBtn.addEventListener('click', async function () {
                var DriverId = $('#Contract_DriverId').val();
                var RenterId = $('#Contract_RenterId').val();
                if ($("#msform").valid()) {
                    CheckIfDriverIdExist = await GetDriverInformation(DriverId);
                    console.log(DriverInformation)
                    console.log(CheckIfDriverIdExist)
                    //Check Renter ID Is Not the same ID Driver
                    if (CheckIfDriverIdExist) {
                        if (DriverId != RenterId) {
                            $('#checkModalToggleDriver').modal('show');
                            $("#MobileNumberDriver").text("+" + DriverInformation.keyCountry + " " + DriverInformation.mobileNumber);
                        }
                        else {
                            $('#requird_field_DriverID').text('@localizer["DriverIdExistRenter"]');
                        }

                    } else {
                        $('#requird_field_DriverID').text('@localizer["RenterIdWrong"]');
                    }
                }
            });
        });
        // Modal Submit Code from Mobile
        ///////////////////////////////////////////////the-Modal-6-digit-vaildation/////////////////////
        function openThirdPopupDriver() {
            var currentDate = new Date();
            var ExpiryIdDate = new Date(DriverInformation.expiryIdDate);
            $('#checkModalToggleDriver').modal('hide');
            $('#thirdPopupModal').modal('show');
            setTimeout(function () {
                $('#thirdPopupModal').modal('hide');
                console.log(DriverInformation);
                setTimeout(function () {
                    var birthdate = DriverInformation.birthDate ? DriverInformation.birthDate.split('T')[0] : null;
                    var licenseExpiryDate = DriverInformation.licenseExpiryDate ? DriverInformation.licenseExpiryDate.split('T')[0] : null;
                    var licenseIssuedDate = DriverInformation.licenseIssuedDate ? DriverInformation.licenseIssuedDate.split('T')[0] : null;
                    if ("@requestCulture?.RequestCulture.UICulture.Name" == "en-US") {
                        if (DriverInformation.postEnNameConcenate != "" && DriverInformation.postEnNameConcenate != null && DriverInformation.postEnNameConcenate != undefined) {
                            $("#DriverAddress").text(DriverInformation.postEnNameConcenate);
                        }
                        else {
                            $("#DriverAddress").text('@localizer["notfound"]').css("color", "red");
                        }
                        if (DriverInformation.personalEmail != "" && DriverInformation.personalEmail != null && DriverInformation.personalEmail != undefined) {
                            $("#DriverEmail").text(DriverInformation.personalEmail);
                        }
                        else {
                            $("#DriverEmail").text('@localizer["notfound"]');
                        }
                        if (ExpiryIdDate < currentDate) {
                            $("#requird_field_Birthdate_driver").text('@localizer["IdIsExpire"]').css("color", "red");
                        }
                        $("#DriverName").text(DriverInformation.personalEnName);
                        $("#DriverNationality").text(DriverInformation.personalEnNationality);
                        $("#DriverGender").text(DriverInformation.personalEnGender);
                        $("#DriverProffessions").text(DriverInformation.personalEnProfessions);
                        $("#DriverLicenseType").text(DriverInformation.licenseEnName);
                        $("#DriverLicenseIssued").text(licenseIssuedDate);
                        $("#DriverLicenseExpiration").text(licenseExpiryDate);
                        $("#DriverEmployer").text(DriverInformation.employerEnName);
                        $("#birth-date-driver").val(birthdate);
                    }
                    else {
                        if (DriverInformation.postArNameConcenate != "" && DriverInformation.postArNameConcenate != null && DriverInformation.postArNameConcenate != undefined) {
                            $("#DriverAddress").text(DriverInformation.postArNameConcenate);
                        }
                        else {
                            $("#DriverAddress").text('@localizer["notfound"]').css("color", "red");
                        }
                        if (DriverInformation.personalEmail != "" && DriverInformation.personalEmail != null && DriverInformation.personalEmail != undefined) {
                            $("#DriverEmail").text(DriverInformation.personalEmail);
                        }
                        else {
                            $("#DriverEmail").text('@localizer["notfound"]');
                        }
                        if (ExpiryIdDate < currentDate) {
                            $("#requird_field_Birthdate_driver").text('@localizer["IdIsExpire"]').css("color", "red");
                        }
                        $("#DriverName").text(DriverInformation.personalArName);
                        $("#DriverProffessions").text(DriverInformation.personalArProfessions);
                        $("#DriverGender").text(DriverInformation.personalArGender);
                        $("#DriverNationality").text(DriverInformation.personalArNationality);
                        $("#DriverLicenseType").text(DriverInformation.licenseArName);
                        $("#DriverEmployer").text(DriverInformation.employerArName);
                        $("#DriverLicenseIssued").text(licenseIssuedDate);
                        $("#DriverLicenseExpiration").text(licenseExpiryDate);
                        $("#birth-date-driver").val(birthdate);
                    }
                }, 1000);
            }, 1000); // Adjust the duration as needed (in milliseconds)
        }
        document.addEventListener('DOMContentLoaded', function () {
            document.querySelector('#otc00').addEventListener('submit', function (event) {
                event.preventDefault();
                var inputFieldValue = document.getElementById('otc11');
                var numericValue = parseInt(inputFieldValue.value);

                if (isNaN(numericValue)) {
                    // Input value is not a number or is empty
                    console.log('Input value:', numericValue);
                    return;
                }
                // Gather values from input fields
                var otc1 = $("#otc11").val();
                var otc2 = $("#otc22").val();
                var otc3 = $("#otc33").val();
                var otc4 = $("#otc44").val();
                var otc5 = $("#otc55").val();
                var otc6 = $("#otc66").val();

                // Concatenate values into a single string
                var concatenatedCode = otc1 + otc2 + otc3 + otc4 + otc5 + otc6;
                console.log('Input value:', concatenatedCode);
                if (concatenatedCode === '111111') {
                    openThirdPopupDriver();
                }
                else {
                    $('#WrongCodeMessageDriver').text('الرمز المدخل غير صحيح');
                }
                document.getElementById('otc11').value = '';
                document.getElementById('otc22').value = '';
                document.getElementById('otc33').value = '';
                document.getElementById('otc44').value = '';
                document.getElementById('otc55').value = '';
                document.getElementById('otc66').value = '';
            });
        });






        // For AddDriver///////////////////////
        async function GetAddDriverInformation(AddDriverId) {
            try {
                var data = await $.ajax({
                    url: "/BS/Contract/GetRenter",
                    type: "GET",
                    data: { RenterId: AddDriverId },
                });

                AddDriverInformation = data;
                if (data != null) {
                    return true; // Renter exists
                }
            } catch (error) {
                toastr.options = { "positionClass": '@localizer["toastPostion"]', };
                toastr.error('@localizer["SomethingWrongPleaseCallAdmin"]');
                return false; // Error occurred or Renter doesn't exist
            }
            return false; // Renter doesn't exist
        }
        $(document).ready(function () {
            // Store the initial value of RenterID
            var initialAddDriver = $('#Contract_AdditionalDriverId').val();
            // Event handler for the change event on #Contract_RenterId
            $('#Contract_AdditionalDriverId').on('change', function () {
                // Check if the value has changed
                if ($(this).val() !== initialAddDriver) {
                    // Clear previous data and style
                    $("#requird_field_Birthdate_driver").text('').css("color", "");
                    $("#birth-date-driver").val(null);
                    $("#AddDriverAddress").text("");
                    $("#AddDriverEmail").text("");
                    $("#AddDriverName").text("");
                    $("#AddDriverNationality").text("");
                    $("#AddDriverGender").text("");
                    $("#AddDriverProffessions").text("");
                    $("#AddDriverLicenseType").text("");
                    $("#AddDriverLicenseIssued").text("");
                    $("#AddDriverLicenseExpiration").text("");
                    $("#AddDriverEmployer").text("");
                    CheckIfAddDriverIdExist = false;
                    AddDriverInformation = null;
                    // Update the initial value of AddDriver
                    initialAddDriver = $(this).val();
                }
            });
        });
        document.addEventListener('DOMContentLoaded', function () {
            var AddDriverCheckBtn = document.getElementById('AddDriverCheckBtn');
            AddDriverCheckBtn.addEventListener('click', async function () {
                var DriverId = $('#Contract_DriverId').val();
                var RenterId = $('#Contract_RenterId').val();
                var AddDriverId = $('#Contract_AdditionalDriverId').val();
                if ($("#msform").valid()) {
                    CheckIfAddDriverIdExist = await GetAddDriverInformation(AddDriverId);
                    console.log(AddDriverInformation);
                    //Check Renter ID Is Not the same ID Driver
                    if (CheckIfAddDriverIdExist) {
                        if (AddDriverId != RenterId && AddDriverId != DriverId) {
                            $('#checkModalToggleAddDriver').modal('show');
                            $("#MobileNumberAddDriver").text("+" + AddDriverInformation.keyCountry + " " + AddDriverInformation.mobileNumber);
                        }
                        else {
                            $('#requird_field_AdditionalDriverId').text('@localizer["DriverIdExistRenter"]');
                        }

                    } else {
                        $('#requird_field_AdditionalDriverId').text('@localizer["RenterIdWrong"]');
                    }
                }
            });
        });
        // Modal Submit Code from Mobile
        ///////////////////////////////////////////////the-Modal-6-digit-vaildation/////////////////////
        function openThirdPopupAddDriver() {
            var currentDate = new Date();
            var ExpiryIdDate = new Date(AddDriverInformation.expiryIdDate);
            $('#checkModalToggleAddDriver').modal('hide');
            $('#thirdPopupModal').modal('show');
            setTimeout(function () {
                $('#thirdPopupModal').modal('hide');
                setTimeout(function () {
                    var birthdate = AddDriverInformation.birthDate ? AddDriverInformation.birthDate.split('T')[0] : null;
                    var licenseExpiryDate = AddDriverInformation.licenseExpiryDate ? AddDriverInformation.licenseExpiryDate.split('T')[0] : null;
                    var licenseIssuedDate = AddDriverInformation.licenseIssuedDate ? AddDriverInformation.licenseIssuedDate.split('T')[0] : null;
                    console.log(AddDriverInformation.personalArName);
                    if ("@requestCulture?.RequestCulture.UICulture.Name" == "en-US") {
                        if (AddDriverInformation.postEnNameConcenate != "" && AddDriverInformation.postEnNameConcenate != null && AddDriverInformation.postEnNameConcenate != undefined) {
                            $("#AddDriverAddress").text(AddDriverInformation.postEnNameConcenate);
                        }
                        else {
                            $("#AddDriverAddress").text('@localizer["notfound"]').css("color", "red");
                        }
                        if (AddDriverInformation.personalEmail != "" && AddDriverInformation.personalEmail != null && AddDriverInformation.personalEmail != undefined) {
                            $("#AddDriverEmail").text(AddDriverInformation.personalEmail);
                        }
                        else {
                            $("#AddDriverEmail").text('@localizer["notfound"]');
                        }
                        if (ExpiryIdDate < currentDate) {
                            $("#requird_field_BirthDate_AddDriver").text('@localizer["IdIsExpire"]').css("color", "red");
                        }
                        $("#AddDriverName").text(AddDriverInformation.personalEnName);
                        $("#AddDriverNationality").text(AddDriverInformation.personalEnNationality);
                        $("#AddDriverGender").text(AddDriverInformation.personalEnGender);
                        $("#AddDriverProffessions").text(AddDriverInformation.personalEnProfessions);
                        $("#AddDriverLicenseType").text(AddDriverInformation.licenseEnName);
                        $("#AddDriverLicenseIssued").text(licenseIssuedDate);
                        $("#AddDriverLicenseExpiration").text(licenseExpiryDate);
                        $("#AddDriverEmployer").text(AddDriverInformation.employerEnName);
                        $("#birth-date-additionalDriver").val(birthdate);
                    }
                    else {
                        if (AddDriverInformation.postArNameConcenate != "" && AddDriverInformation.postArNameConcenate != null && AddDriverInformation.postArNameConcenate != undefined) {
                            $("#AddDriverAddress").text(AddDriverInformation.postArNameConcenate);
                        }
                        else {
                            $("#AddDriverAddress").text('@localizer["notfound"]').css("color", "red");
                        }
                        if (AddDriverInformation.personalEmail != "" && AddDriverInformation.personalEmail != null && AddDriverInformation.personalEmail != undefined) {
                            $("#AddDriverEmail").text(AddDriverInformation.personalEmail);
                        }
                        else {
                            $("#AddDriverEmail").text('@localizer["notfound"]');
                        }
                        if (ExpiryIdDate < currentDate) {
                            $("#requird_field_BirthDate_AddDriver").text('@localizer["IdIsExpire"]').css("color", "red");
                        }
                        $("#AddDriverName").text(AddDriverInformation.personalArName);
                        $("#AddDriverProffessions").text(AddDriverInformation.personalArProfessions);
                        $("#AddDriverGender").text(AddDriverInformation.personalArGender);
                        $("#AddDriverNationality").text(AddDriverInformation.personalArNationality);
                        $("#AddDriverLicenseType").text(AddDriverInformation.licenseArName);
                        $("#AddDriverEmployer").text(AddDriverInformation.employerArName);
                        $("#AddDriverLicenseIssued").text(licenseIssuedDate);
                        $("#AddDriverLicenseExpiration").text(licenseExpiryDate);
                        $("#birth-date-additionalDriver").val(birthdate);
                    }
                }, 1000);
            }, 1000); // Adjust the duration as needed (in milliseconds)
        }
        document.addEventListener('DOMContentLoaded', function () {
            document.querySelector('#otc000').addEventListener('submit', function (event) {
                event.preventDefault();
                var inputFieldValue = document.getElementById('otc111');
                var numericValue = parseInt(inputFieldValue.value);

                if (isNaN(numericValue)) {
                    // Input value is not a number or is empty
                    console.log('Input value:', numericValue);
                    return;
                }
                // Gather values from input fields
                var otc1 = $("#otc111").val();
                var otc2 = $("#otc222").val();
                var otc3 = $("#otc333").val();
                var otc4 = $("#otc444").val();
                var otc5 = $("#otc555").val();
                var otc6 = $("#otc666").val();

                // Concatenate values into a single string
                var concatenatedCode = otc1 + otc2 + otc3 + otc4 + otc5 + otc6;
                console.log('Input value:', concatenatedCode);
                if (concatenatedCode === '111111') {
                    openThirdPopupAddDriver();
                }
                else {
                    $('#WrongCodeMessageAddDriver').text('الرمز المدخل غير صحيح');
                }
                document.getElementById('otc111').value = '';
                document.getElementById('otc222').value = '';
                document.getElementById('otc333').value = '';
                document.getElementById('otc444').value = '';
                document.getElementById('otc555').value = '';
                document.getElementById('otc666').value = '';
            });
        });








        var current_fs, next_fs, previous_fs;
        var tab = 1;
        var currentField = "";
        var NextField = "";
        var PreviousField = "";
        $(document).on("click", ".next", function () {
            var renterName = $("#RenterName").text();
            current_fs = $(this).closest("fieldset");
            next_fs = $(this).closest("fieldset").next();
            currentField = $("#progressbar li").eq($("fieldset").index(current_fs))[0].id;
            NextField = $("#progressbar li").eq($("fieldset").index(next_fs))[0].id;
            PreviousField = $("#progressbar li").eq($("fieldset").index(next_fs))[0].id;
            console.log("currentField", currentField)
            console.log("NextField", NextField)
            if ($("#msform").valid()) {
                if (currentField === "tenant") {
                    if (renterName != null && renterName != "") {
                        var currentDate = new Date();
                        var ExpiryIdDateRenter = new Date(RenterInformation.expiryIdDate);
                        var AddressAr = RenterInformation.postArNameConcenate;
                        var AddressEn = RenterInformation.postEnNameConcenate;
                        var id = true;
                        var address = true;
                        var chechAuthUser;


                        if (ExpiryIdDateRenter < currentDate) {
                            id = false;
                        }
                        if ("@requestCulture?.RequestCulture.UICulture.Name" == "en-US") {

                            if (AddressAr == null || AddressAr == "") {
                                address = false;
                            }
                        }
                        else {
                            if (AddressEn == null || AddressEn == "") {
                                address = false;
                            }
                        }
                        // This Check to If Renter Need Private Driver Or not
                        var privateDriverRadio1 = document.getElementById("PrivateDriver");
                        var privateDriverID = $("#driver-dropdown").val();
                        if (privateDriverRadio1.checked && privateDriverID == null) {
                            $("#PrivateDriverRequired").text('@localizer["PleaseChooseYourDriver"]').css("color", "red");
                        }
                        else if (id != true || address != true) {
                            $.ajax({
                                url: "/BS/Contract/CheckAuthUser", // Replace YourController with your actual controller name
                                type: "GET",
                                data: { id: id, address: address },
                                success: function (data) {
                                    var check = data;
                                    if (check == "id") {
                                        $("#PrivateDriverRequired").text('').css("color", "");
                                        toastr.options = { "positionClass": '@localizer["toastPostion"]', };
                                        toastr.error('@localizer["IdIsExpriredAndYouNotAuth"]');
                                        return;
                                    }
                                    else if (check == "address") {
                                        $("#PrivateDriverRequired").text('').css("color", "");
                                        toastr.options = { "positionClass": '@localizer["toastPostion"]', };
                                        toastr.error('@localizer["AddressIsExpriredAndYouNotAuth"]');
                                        return
                                    }
                                    else {
                                        $("#PrivateDriverRequired").text('').css("color", "");
                                        $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");
                                        next_fs.show();
                                        current_fs.hide();
                                        tab++;
                                    }
                                }
                            });
                        }
                        else {
                            $("#PrivateDriverRequired").text('').css("color", "");
                            $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");
                            next_fs.show();
                            current_fs.hide();
                            tab++;
                        }
                    }
                    else {
                        $('#requird-field_RenterID').text('@localizer["PleaseCheckYourID"]');
                    }
                }
                else if (currentField === "car") {
                    var driverRadio1 = document.getElementById("RenterIsdriver");
                    var privateDriverRadio1 = document.getElementById("PrivateDriver");
                    var privateDriverID = $("#driver-dropdown").val();
                    console.log(privateDriverRadio1.checked)
                    SerialNumberOfCar = $(this).find('td').data("serial-number");
                    GetCarInfo(SerialNumberOfCar);                    
                    if (privateDriverRadio1.checked) {
                        // Clear previous data and style
                        clearDataDriver();
                        clearDataAddDriver();
                        document.getElementById("addational-driver").checked = false;
                        currentField = "option";
                        NextField = "check";
                        $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");
                        next_fs = $(this).closest("fieldset").next().next();
                        $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");
                        next_fs = $(this).closest("fieldset").next().next().next();
                        $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");
                        next_fs.show();
                        current_fs.hide();
                    }
                    // This Check to If driverIsRenter Or not
                    else if (driverRadio1.checked) {
                        // DriverInformation = RenterInformation;
                        var currentDate = new Date();
                        var ExpiryIdDate = new Date(RenterInformation.expiryIdDate);
                        $("#DriverCheckBtn").hide();
                        var birthdate = RenterInformation.birthDate ? RenterInformation.birthDate.split('T')[0] : null;
                        var licenseExpiryDate = RenterInformation.licenseExpiryDate ? RenterInformation.licenseExpiryDate.split('T')[0] : null;
                        var licenseIssuedDate = RenterInformation.licenseIssuedDate ? RenterInformation.licenseIssuedDate.split('T')[0] : null;
                        if ("@requestCulture?.RequestCulture.UICulture.Name" == "en-US") {
                            if (DriverInformation.postEnNameConcenate != "" && DriverInformation.postEnNameConcenate != null && DriverInformation.postEnNameConcenate != undefined) {
                                $("#DriverAddress").text(DriverInformation.postEnNameConcenate);
                            }
                            else {
                                $("#DriverAddress").text('@localizer["notfound"]').css("color", "red");
                            }
                            if (DriverInformation.personalEmail != "" && DriverInformation.personalEmail != null && DriverInformation.personalEmail != undefined) {
                                $("#DriverEmail").text(DriverInformation.personalEmail);
                            }
                            else {
                                $("#DriverEmail").text('@localizer["notfound"]');
                            }
                            if (ExpiryIdDate < currentDate) {
                                $("#requird_field_Birthdate_driver").text('@localizer["IdIsExpire"]').css("color", "red");
                            }
                            $("#Contract_DriverId").val(DriverInformation.renterID);
                            $("#Contract_DriverId").prop("readonly", true);

                            $("#DriverName").text(DriverInformation.personalEnName);
                            $("#DriverNationality").text(DriverInformation.personalEnNationality);
                            $("#DriverGender").text(DriverInformation.personalEnGender);
                            $("#DriverProffessions").text(DriverInformation.personalEnProfessions);
                            $("#DriverLicenseType").text(DriverInformation.licenseEnName);
                            $("#DriverLicenseIssued").text(licenseIssuedDate);
                            $("#DriverLicenseExpiration").text(licenseExpiryDate);
                            $("#DriverEmployer").text(DriverInformation.employerEnName);
                            $("#birth-date-driver").val(birthdate);
                        }
                        else {
                            if (RenterInformation.postArNameConcenate != "" && RenterInformation.postArNameConcenate != null && RenterInformation.postArNameConcenate != undefined) {
                                $("#DriverAddress").text(RenterInformation.postArNameConcenate);
                            }
                            else {
                                $("#DriverAddress").text('@localizer["notfound"]').css("color", "red");
                            }
                            if (RenterInformation.personalEmail != "" && RenterInformation.personalEmail != null && RenterInformation.personalEmail != undefined) {
                                $("#DriverEmail").text(RenterInformation.personalEmail);
                            }
                            else {
                                $("#DriverEmail").text('@localizer["notfound"]');
                            }
                            if (ExpiryIdDate < currentDate) {
                                $("#requird_field_Birthdate_driver").text('@localizer["IdIsExpire"]').css("color", "red");
                            }
                            $("#Contract_DriverId").val(RenterInformation.renterID);
                            $("#Contract_DriverId").prop("readonly", true);

                            $("#DriverName").text(RenterInformation.personalArName);
                            $("#DriverProffessions").text(RenterInformation.personalArProfessions);
                            $("#DriverGender").text(RenterInformation.personalArGender);
                            $("#DriverNationality").text(RenterInformation.personalArNationality);
                            $("#DriverLicenseType").text(RenterInformation.licenseArName);
                            $("#DriverEmployer").text(RenterInformation.employerArName);
                            $("#DriverLicenseIssued").text(licenseIssuedDate);
                            $("#DriverLicenseExpiration").text(licenseExpiryDate);
                            $("#birth-date-driver").val(birthdate);
                        }
                        $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");
                        next_fs.show();
                        current_fs.hide();
                    }
                    else {
                        // Clear previous data and style
                        clearDataDriver();
                        clearDataAddDriver();
                        $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");
                        next_fs.show();
                        current_fs.hide();
                    }
                    //////////////////////////////////////////
                }
                else if (currentField === "driver") {
                    var driverName = $("#DriverName").text();
                    if (driverName != null && driverName != "") {
                        var additionalDriver = document.getElementById("addational-driver");
                        if (additionalDriver.checked) {
                            $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");
                            next_fs.show();
                            current_fs.hide();
                        }
                        else {
                            currentField = "option";
                            NextField = "check";
                            $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");
                            next_fs = $(this).closest("fieldset").next().next();
                            $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");
                            next_fs.show();
                            current_fs.hide();
                        }

                    }
                    else {
                        $('#requird_field_DriverID').text('@localizer["PleaseCheckYourID"]');
                    }
                }
                else if (currentField === "add-driver") {
                    var addDriverName = $("#AddDriverName").text();
                    if (addDriverName != null && addDriverName != "") {
                        $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");
                        next_fs.show();
                        current_fs.hide();
                        tab++;
                    }
                    else {
                        $('#requird_field_AdditionalDriverId').text('@localizer["PleaseCheckYourID"]');
                    }
                }
                else if (currentField === "option") {
                    $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");
                    next_fs.show();
                    current_fs.hide();
                }
            }
        });
        $(".previous").click(function () {
            current_fs = $(this).closest("fieldset");
            previous_fs = $(this).closest("fieldset").prev();
            console.log(DriverInformation);
            console.log(PreviousField);
            console.log(currentField);
            console.log(NextField);
            if (currentField === "option") {
                var additionalDriver = document.getElementById("addational-driver");
                var privateDriverRadio1 = document.getElementById("PrivateDriver");
                console.log(privateDriverRadio1.checked)
                // This Check to If Renter Need Private Driver Or not
                if (privateDriverRadio1.checked) {
                    // Clear previous data and style
                    clearDataDriver();
                    clearDataAddDriver();
                    currentField = "car";
                    $("#progressbar li").eq($("fieldset").index(current_fs)).removeClass("active");
                    $("#progressbar li").eq($("fieldset").index(previous_fs)).removeClass("active");
                    previous_fs = $(this).closest("fieldset").prev().prev();
                    $("#progressbar li").eq($("fieldset").index(previous_fs)).removeClass("active");
                    previous_fs = $(this).closest("fieldset").prev().prev().prev();
                    previous_fs.show();
                    current_fs.hide();
                    console.log("currentField", currentField);
                    console.log("NextField", NextField);
                }
                else if (additionalDriver.checked) {
                    $("#progressbar li").eq($("fieldset").index(current_fs)).removeClass("active");
                    previous_fs.show();
                    current_fs.hide();
                }
                else {

                    $("#progressbar li").eq($("fieldset").index(previous_fs)).removeClass("active");
                    previous_fs = $(this).closest("fieldset").prev().prev();
                    $("#progressbar li").eq($("fieldset").index(current_fs)).removeClass("active");
                    previous_fs.show();
                    current_fs.hide();
                }
            }
            else {
                $("#progressbar li").eq($("fieldset").index(current_fs)).removeClass("active");
                previous_fs.show();
                current_fs.hide();
            }
        });




        function clearDataDriver() {
            $("#Contract_DriverId").val("");
            $("#Contract_DriverId").prop("readonly", false);
            $("#requird_field_Birthdate_driver").text('').css("color", "");
            $("#birth-date-driver").val(null);
            $("#DriverAddress").text("");
            $("#DriverEmail").text("");
            $("#DriverName").text("");
            $("#DriverNationality").text("");
            $("#DriverGender").text("");
            $("#DriverProffessions").text("");
            $("#DriverLicenseType").text("");
            $("#DriverLicenseIssued").text("");
            $("#DriverLicenseExpiration").text("");
            $("#DriverEmployer").text("");
            CheckIfDriverIdExist = false;
            DriverInformation = null;
            $("#DriverCheckBtn").show();
        }
        function clearDataAddDriver() {
            $("#Contract_AdditionalDriverId").val("");
            $("#Contract_AdditionalDriverId").prop("readonly", false);
            $("#requird_field_Birthdate_AddDriver").text('').css("color", "");
            $("#birth-date-additionalDriver").val(null);
            $("#AddDriverAddress").text("");
            $("#AddDriverEmail").text("");
            $("#AddDriverName").text("");
            $("#AddDriverNationality").text("");
            $("#AddDriverGender").text("");
            $("#AddDriverProffessions").text("");
            $("#AddDriverLicenseType").text("");
            $("#AddDriverLicenseIssued").text("");
            $("#AddDriverLicenseExpiration").text("");
            $("#AddDriverEmployer").text("");
            CheckIfAddDriverIdExist = false;
            AddDriverInformation = null;
        }



        function GetCodeCategory(categoryCode) {
            var selectedBranch = "@Model.SelectedBranch";
            console.log(categoryCode);
            console.log(selectedBranch);
            $.ajax({
                url: "/BS/Contract/GetCarsByCategory", // Replace YourController with your actual controller name
                type: "GET",
                data: { selectedCategory: categoryCode, selectedBranch: selectedBranch },
                success: function (data) {
                    $('#ListCars tbody').html(data);
                },
                error: function () {
                    alert("Error loading data.");
                }
            });
        }


        function GetCarInfo(serialNumber) {
            console.log(serialNumber);
            $.ajax({
                url: "/BS/Contract/GetCarInformation",
                type: "GET",
                data: { serialNumber: serialNumber },
                success: function (data) {
                    CarInformation = data;
                    console.log(CarInformation)
                    // if (CarInformation.carPrice.crCasPriceCarBasicIsAdditionalDriver == null || CarInformation.carPrice.crCasPriceCarBasicIsAdditionalDriver ==false) {
                    //     $("#addationalDriverDiv").hide();
                    // }
                },
                error: function (xhr, textStatus, errorThrown) {
                    console.error("Error loading data:", textStatus, errorThrown);
                }
            });
        }



        // function GetCarInfo(serialNumber) {
        //     console.log(serialNumber);
        //     $.ajax({
        //         url: "/BS/Contract/GetCarInformation",
        //         type: "GET",
        //         data: { serialNumber: serialNumber },
        //         success: function (data) {
        //             CarInformation = data;
        //             console.log(CarInformation)
        //             GetCarPrice(data.crCasCarInformationDistribution);
        //         },
        //         error: function (xhr, textStatus, errorThrown) {
        //             console.error("Error loading data:", textStatus, errorThrown);
        //         }
        //     });
        // }
        // function GetCarPrice(distributionCode) {
        //     console.log(distributionCode);
        //     $.ajax({
        //         url: "/BS/Contract/GetCarPrice",
        //         type: "GET",
        //         data: { ditribtionCode: distributionCode },
        //         success: function (data) {
        //             CarPrice = data;
        //             console.log(CarPrice)
        //         },
        //         error: function (xhr, textStatus, errorThrown) {
        //             console.error("Error loading data:", textStatus, errorThrown);
        //         }
        //     });
        // }


        // function GetCarOptionNumber(carPriceCode) {
        //     console.log(carPriceCode);
        //     $.ajax({
        //         url: "/BS/Contract/GetCarOptionNumber",
        //         type: "GET",
        //         data: { ditribtionCode: distributionCode },
        //         success: function (data) {
        //             CarPrice = data;
        //             console.log(CarPrice)
        //         },
        //         error: function (xhr, textStatus, errorThrown) {
        //             console.error("Error loading data:", textStatus, errorThrown);
        //         }
        //     });
        // }

        // function GetCarAdditionalNumber(carPriceCode) {
        //     console.log(carPriceCode);
        //     $.ajax({
        //         url: "/BS/Contract/GetCarAdditionalNumber",
        //         type: "GET",
        //         data: { ditribtionCode: distributionCode },
        //         success: function (data) {
        //             CarPrice = data;
        //             console.log(CarPrice)
        //         },
        //         error: function (xhr, textStatus, errorThrown) {
        //             console.error("Error loading data:", textStatus, errorThrown);
        //         }
        //     });
        // }

    </script>



    <script>



    </script>
}